<ion-content >
  <app-header></app-header>

  <section class="form pt-10 pb-14 px-4 lg:pb-28 lg:pt-32 lg:px-16">
    <div class="lg:mx-auto lg:w-full lg:px-44 lg:grid lg:grid-cols-5 justify-center drop-shadow-xl">
  <div class="lg:p-6 pt-8 p-4 bg-white col-span-3 border border-solid border-[#BFB8D7] rounded-3xl border-b-0 rounded-b-none lg:border-none lg:rounded-none lg:rounded-l-[24px] lg:formdiv">
    <p class="text-2xl font-bold leading-8">Subscribe</p>
    <p class="text-base leading-6 font-normal">to our Monthly Surprise Box</p>
  
    <div class="divider my-4">
    </div>
    <form [formGroup]="subscriptionForm" (ngSubmit)="onSubmit()" class="">
      <!-- Contact Information -->
      <div class="mb-6">
        <h3 class="text-xl font-bold mb-2 leading-8">Contact Information</h3>
        <label class="block lg:mb-2 mb-1 font-medium text-lg lg:text-base text-[#344054]">Your Name</label>
        <input
          type="text"
          formControlName="name"
          class="input w-full border border-solid border-[#D0D5DD] rounded-[8px] shadow-sm focus:ring-[#896AF9] focus:border-[#896AF9] px-[10px] py-[14px] gap-2 bg-white "
          placeholder="e.g Osama Alshethri"
        />
        <div *ngIf="showError('name')" class="text-red-400">{{ getError('name') }}</div>
        <label class="block lg:mb-2 mb-1 font-medium text-lg lg:text-base text-[#344054] lg:mt-6 mt-4">Email</label>
        <input
          type="email"
          formControlName="email"
          class=" input w-full border border-solid border-[#D0D5DD] rounded-[8px] shadow-sm focus:ring-[#BFB8D7] focus:border-[#BFB8D7] px-[10px] py-[14px] gap-2 bg-white"
          placeholder="Osama@gmail.com"
        />
        <div *ngIf="showError('email')" class="text-red-400">{{ getError('email') }}</div>
      </div>
  
      <!-- Child's Information -->
      <div class="mb-6">
        <h3 class="text-lg font-semibold mb-2">Child's Information</h3>
        <label class="block lg:mb-2 mb-1 font-medium text-lg lg:text-base text-[#344054]">Child's Full Name</label>
        <input
          type="text"
          formControlName="childName"
          class="input w-full border border-solid border-[#D0D5DD] rounded-[8px] shadow-sm focus:ring-[#BFB8D7] focus:border-[#BFB8D7] px-[10px] py-[14px] gap-2 bg-white "
          placeholder="e.g Sarah Mohammad"
        />
        <div *ngIf="showError('childName')" class="text-red-400">{{ getError('childName') }}</div>
  
        <label class="block lg:mb-2 mb-1 font-medium text-lg lg:text-base text-[#344054] lg:mt-6 mt-4">Child's Date of Birth</label>
        <div class="flex gap-2">
          <select formControlName="birthDay" class="w-1/3 border border-solid border-[#D0D5DD] rounded-[8px] shadow-sm focus:border-[#BFB8D7] 
            px-[10px] py-[14px] bg-white flex flex-row items-center text-gray-500">
            <option value="" disabled >Date</option>
            <option *ngFor="let day of days" [value]="day" >{{ day }}</option>
          </select>
         
          <select formControlName="birthMonth" class="w-1/3 border border-solid border-[#D0D5DD] rounded-[8px] shadow-sm focus:border-[#BFB8D7] px-[10px] py-[14px] bg-white flex flex-row items-center text-gray-500">
            <option value="" disabled>Month</option>
            <option *ngFor="let month of months" [value]="month">{{ month }}</option>
          </select>
          
          <select formControlName="birthYear" class="w-1/3 border border-solid border-[#D0D5DD] rounded-[8px] shadow-sm focus:border-[#BFB8D7] px-[10px] py-[14px] bg-white flex flex-row items-center text-gray-500">
            <option value="" disabled>Year</option>
            <option *ngFor="let year of years" [value]="year">{{ year }}</option>
          </select>
         
          
        </div>
        <div class="">
          <div *ngIf="showError('birthDay')" class="text-red-400">{{ getError('birthDay') }}</div>
          <div *ngIf="showError('birthMonth')" class="text-red-400">{{ getError('birthMonth') }}</div>
          <div *ngIf="showError('birthYear')" class="text-red-400">{{ getError('birthYear') }}</div>
          </div>
  
        <label class="block lg:mb-2 mb-1 font-medium text-lg lg:text-base text-[#344054] lg:mt-6 mt-4">Grade</label>

        <select formControlName="grade" class="w-full border border-solid border-[#D0D5DD] rounded-[8px] shadow-sm focus:ring-[#BFB8D7] focus:border-[#BFB8D7] px-[10px] py-[14px] bg-white gap-2 flex flex-row items-center text-gray-500">
          <option value="" disabled class="text-[#667085]">eg Grade 2</option>
          <option *ngFor="let grade of grades" [value]="grade">{{ grade }}</option>
        </select>
        <div *ngIf="showError('grade')" class="text-red-400">{{ getError('grade') }}</div>
  
        <label class="block lg:mb-2 mb-1 font-medium text-lg lg:text-base text-[#344054] lg:mt-6 mt-4">Gender</label>
        <div class="grid grid-cols-2 gap-4 gender">
          <label class="group cursor-pointer w-full">
            <input type="radio" formControlName="gender" value="Boy"  class="sr-only peer"/>
            <div class="flex items-center justify-between w-full border border-solid border-[#D0D5DD] rounded-[8px] px-[10px] py-[14px] gap-2 bg-white peer-checked:border-purple-700 peer-checked:bg-purple-50">
              <span class="ml-2 text-[#667085] peer-checked:text-purple-700">Boy</span>
              <div class="w-4 h-4 flex items-center justify-center">
                <svg class="fill-[#D0D5DD] peer-checked:fill-purple-700" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 1.33337C4.31999 1.33337 1.33333 4.32004 1.33333 8.00004C1.33333 11.68 4.31999 14.6667 8 14.6667C11.68 14.6667 14.6667 11.68 14.6667 8.00004C14.6667 4.32004 11.68 1.33337 8 1.33337ZM8 13.3334C5.06 13.3334 2.66666 10.94 2.66666 8.00004C2.66666 5.06004 5.06 2.66671 8 2.66671C10.94 2.66671 13.3333 5.06004 13.3333 8.00004C13.3333 10.94 10.94 13.3334 8 13.3334ZM11.06 5.05337L6.66666 9.44671L4.93999 7.72671L3.99999 8.66671L6.66666 11.3334L12 6.00004L11.06 5.05337Z"/>
                </svg>
              </div>
            </div>
          </label>
            <label class="group cursor-pointer w-full">
            <input type="radio" formControlName="gender" value="Girl"  class="sr-only peer"/>
            <div class="flex items-center justify-between w-full border border-solid border-[#D0D5DD] rounded-[8px] px-[10px] py-[14px] gap-2 bg-white peer-checked:border-purple-700 peer-checked:bg-purple-50">
              <span class="ml-2 text-[#667085] peer-checked:text-purple-700">Girl</span>
              <div class="w-4 h-4 flex items-center justify-center">
                <svg class="fill-[#D0D5DD] peer-checked:fill-purple-700" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 1.33337C4.31999 1.33337 1.33333 4.32004 1.33333 8.00004C1.33333 11.68 4.31999 14.6667 8 14.6667C11.68 14.6667 14.6667 11.68 14.6667 8.00004C14.6667 4.32004 11.68 1.33337 8 1.33337ZM8 13.3334C5.06 13.3334 2.66666 10.94 2.66666 8.00004C2.66666 5.06004 5.06 2.66671 8 2.66671C10.94 2.66671 13.3333 5.06004 13.3333 8.00004C13.3333 10.94 10.94 13.3334 8 13.3334ZM11.06 5.05337L6.66666 9.44671L4.93999 7.72671L3.99999 8.66671L6.66666 11.3334L12 6.00004L11.06 5.05337Z"/>
                </svg>
              </div>
            </div>
          </label>
        </div>
       
       </div> 
  
      <!-- Parent Topics -->
      <div class="topics font-bold text-xl leading-8  mt-8">
  <label class="block topicslabel text-[#202124] text-xl font-bold mb-2 font-['Nunito']">
    As a parent, select any 3 topics
  </label>
  <div class="flex flex-wrap gap-2">
    <label
      *ngFor="let topic of topics"
      class="group border border-gray-300 lg:px-14 lg:py-2 px-5 py-1 rounded-full cursor-pointer flex items-center justify-center transition-all "
      [ngClass]="{ 
        'bg-purple-100 text-[#6633FF] checked': selectedTopics.includes(topic), 
        'bg-gray-200 border-gray-200 text-gray-400 cursor-not-allowed': !selectedTopics.includes(topic) && selectedTopics.length >= 3,
        'hover:bg-purple-50 hover:border-[#6633FF] hover:text-[#6633FF] text-[#667085]': selectedTopics.length < 3 || selectedTopics.includes(topic)
      }"
      [class.pointer-events-none]="!selectedTopics.includes(topic) && selectedTopics.length >= 3"
      (click)="toggleTopic(topic)"
    >
      <!-- Checkbox -->
      <input
        type="checkbox"
        [checked]="selectedTopics.includes(topic)"
        (change)="toggleTopic(topic)"
        class="peer hidden"
        [disabled]="!selectedTopics.includes(topic) && selectedTopics.length >= 3"
      />
      <!-- Label Text -->
      <span class="text-base font-normal ">
        {{ topic }}
      </span>
    </label>
  </div>
</div>
      <!-- Submit Button -->
       <div class="w-full mt-16 mb-4 hidden lg:block">
      <button
      type="submit"
      (click)="onSubmit()"
      [ngClass]="{'opacity-50': !subscriptionForm.valid }"
      class="w-full bg-indigo-500 text-white font-bold py-2 rounded-md shadow hover:bg-indigo-600 payment"
      [disabled]="!subscriptionForm.valid">
        Continue to payment
      </button> 
    </div>
    </form>
  </div>

  <div class=" bg-[#F1EDFE] col-span-2  border border-solid border-[#BFB8D7] rounded-3xl border-t-0 rounded-t-none lg:border-none lg:rounded-none lg:rounded-r-[24px]">
    <div class=" p-6">
      <p class="text-xl font-bold">Summary</p>
      <p class="text-lg"> of your Monthly Surprise Box</p>


      <div class="flex justify-between flex-row my-6 bg-white p-4 pb-10 rounded-lg">
        <div class="basis-2/3">
          <p class="font-bold text-base leading-6">Mystery Box</p>
          <span class="lgall">X 1</span>
        </div>
        <div class="text-right basis-1/3">
          <p class="font-normal leading-6">SAR  <span class="font-bold text-base">456 </span></p>
          <span class="lgall">Monthly</span>
        </div>
        
      </div>

      <div class="my-4"></div>
      <div class="flex justify-between mb-2">
        <p class="font-medium">Subtotal</p>
        <p class="font-normal leading-6">SAR  <span class="font-bold text-base">456 </span></p>
      </div>
      <div class="flex justify-between mb-2">
        <p class="font-medium">Shipping</p>
        <span class="lgall">Free</span>
      </div>
      <div class="flex justify-between mb-2">
        <p class="font-medium">Taxes</p>
        <p class="font-normal leading-6">SAR  <span class="font-bold text-base">4.0 </span></p>
      </div>
      <div class="summary-border my-4"></div>
      <div class="flex justify-between font-semibold">
        <div>  
          <p class="font-semibold text-lg leading-6">Total</p>
        </div>
      <div class="text-right">
        <p class="font-normal leading-6">SAR  <span class="font-bold text-base">456 </span></p>
          <span class="lgall hidden lg:block">Monthly</span>
      </div>
      
      </div>
      <div class="mb-2">
        <div class="lg:hidden w-full mt-4">
          <button (click)="onSubmit()" [ngClass]="{'opacity-50': !subscriptionForm.valid }" class="w-full bg-indigo-500 text-white font-bold py-2 rounded-md shadow hover:bg-indigo-600 payment" [disabled]="!subscriptionForm.valid">
            Continue to payment
          </button>
        </div>
      </div>
    </div>
    

  </div>
   </div>
</section>

<!-- Footer -->
  <footer class="hidden lg:block lg:px-16 lg:mx-auto lg:w-full lg:py-12">
    <div class="lg:px-16 lg:mx-auto lg:w-full">
      <div class="flex flex-row justify-between">
        <div>
          <img src="../../assets/dark-logo.png" alt="">
        </div>
        <div class="">
          <a class="font-normal text-lg foorterlink mr-6">Overview</a>
          <a class="font-normal text-lg foorterlink mr-6">Help</a>
          <a class="font-normal text-lg foorterlink mr-6">Privacy</a>
        </div>
        <div class="copyrights font-normal text-lg leading-6">
          <p>Â© 2023 MyEdu
        </div>
      </div>
    </div>
  </footer>
</ion-content>
